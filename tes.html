<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Friendly Barcode Scanner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f8f8f8;
        }
        #reader {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            padding: 10px;
            border: 1px solid #ddd;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
    <!-- SweetAlert2 CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"> -->
</head>
<body>
    <div id="reader"></div>

    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="html5-qrcode.min.js"></script>
    <script>
        let html5QrcodeScanner;

        Swal.fire({
            title: 'Indomie Goreng',
            imageUrl: "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//93/MTA-2583228/indomie_indomie-goreng-mie-instan--85g--_full02.jpg",
            imageWidth: 300,
            text: `Result: aw`,
            // icon: 'success',
            confirmButtonText: 'Close'
        }).then(() => {
            // html5QrcodeScanner.resume();  // Resume the scanner
        });

        function onScanSuccess(decodedText, decodedResult) {
            html5QrcodeScanner.pause();  // Pause the scanner
            Swal.fire({
                title: 'Barcode Detected',
                imageUrl: "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//93/MTA-2583228/indomie_indomie-goreng-mie-instan--85g--_full02.jpg",
                imageWidth: 500,
                text: `Result: ${decodedText}`,
                icon: 'success',
                confirmButtonText: 'Close'
            }).then(() => {
                html5QrcodeScanner.resume();  // Resume the scanner
            });
        }

        function onScanFailure(error) {
            // Optional: handle scan failure (e.g., logging)
        }

        document.addEventListener("DOMContentLoaded", function() {
            html5QrcodeScanner = new Html5QrcodeScanner(
                "reader", { 
                    fps: 10, 
                    qrbox: {
                        width: 250,
                        height: 250
                    },
                    aspectRatio: 1.0,
                    // disableFlip: false // true if you only want to scan from the rear camera
                });
            html5QrcodeScanner.render(onScanSuccess, onScanFailure);
        });
    </script>
</body>
</html>
